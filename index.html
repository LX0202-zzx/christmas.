<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>åœ£è¯å¿«ä¹</title>

<style>
html,body{
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    background:#02040a;
    overflow:hidden;
    font-family:"PingFang SC","Microsoft YaHei",Arial;
    color:#fff;
}
#text{
    position:absolute;
    top:6%;
    width:100%;
    text-align:center;
    z-index:10;
}
#text p{margin:6px 0;}
canvas{
    position:absolute;
    left:0;
    top:0;
}
.tip{
    position:fixed;
    bottom:16px;
    width:100%;
    text-align:center;
    font-size:13px;
    opacity:.7;
}
</style>
</head>

<body>

<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/12/23/audio_0f5b8b6d63.mp3" type="audio/mpeg">
</audio>

<div id="text">
    <p>ğŸ„ åœ£è¯å¿«ä¹ ğŸ„</p>
    <p style="font-size:18px;">é›’é‘«å°±æ˜¯æˆ‘çš„ç¤¼ç‰©</p>
    <p style="font-family:cursive;font-size:22px;">Merry Christmas 2025</p>
</div>

<canvas id="c"></canvas>
<div class="tip">è½»ç‚¹å±å¹•ï¼ŒéŸ³ä¹å“èµ· â¤ï¸</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

const cx = canvas.width / 2;
const baseY = canvas.height * 0.78;
let t = 0;

// ğŸŒ² åœ£è¯æ ‘ï¼ˆå°–é¡¶ä¼˜åŒ–ï¼‰
function drawTree(){
    const total = 600; // ç‚¹æ›´å¤š
    for(let i=0;i<total;i++){
        // p éçº¿æ€§åˆ†å¸ƒï¼Œè®©é¡¶éƒ¨ç‚¹å¯†åº¦æ›´é«˜
        let p = Math.pow(i/total, 0.7); 

        let angle = p * 24 * Math.PI + t;
        let radius = (1 - Math.pow(p,1.5)) * 160; // é¡¶éƒ¨åŠå¾„æ›´å°
        let x = cx + Math.cos(angle) * radius;
        let y = baseY - p * 520;

        ctx.beginPath();
        ctx.fillStyle = `rgba(170,220,255,${1-p})`;
        ctx.arc(x, y, 1.6, 0, Math.PI*2);
        ctx.fill();

        // å½©ç¯éšæœºåˆ†å¸ƒ
        if(i % 10 === 0){
            ctx.beginPath();
            ctx.fillStyle = `hsl(${i*6},100%,70%)`;
            ctx.arc(x, y, 2.4, 0, Math.PI*2);
            ctx.fill();
        }
    }

    // ğŸŒ³ æ ‘å¹²
    ctx.fillStyle = "#654321";
    let trunkWidth = 22;
    let trunkHeight = 100;
    ctx.fillRect(cx - trunkWidth/2, baseY, trunkWidth, trunkHeight);
}

// â­ æ˜Ÿæ˜Ÿ
function drawStar(){
    ctx.beginPath();
    ctx.fillStyle="#ffd700";
    ctx.shadowBlur=20;
    ctx.shadowColor="#ffd700";
    ctx.arc(cx, baseY-560, 8, 0, Math.PI*2);
    ctx.fill();
    ctx.shadowBlur=0;
}

// â„ é›ªèŠ±
let snow=[];
for(let i=0;i<150;i++){
    snow.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        r:Math.random()*2+0.5,
        s:Math.random()*1.5+0.3
    });
}

function drawSnow(){
    ctx.fillStyle="rgba(255,255,255,.8)";
    snow.forEach(f=>{
        ctx.beginPath();
        ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
        ctx.fill();
        f.y+=f.s;
        if(f.y>canvas.height){
            f.y=0;
            f.x=Math.random()*canvas.width;
        }
    });
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawSnow();
    drawTree();
    drawStar();
    t += 0.0025;
    requestAnimationFrame(animate);
}
animate();

// ç‚¹å‡»æ’­æ”¾éŸ³ä¹
document.addEventListener("click",()=>{
    const bgm = document.getElementById("bgm");
    bgm.play().catch(e=>{
        console.log("éŸ³ä¹æ’­æ”¾å¤±è´¥", e);
    });
},{once:true});
</script>

</body>
</html>
    font-size:13px;
    opacity:.7;
}
</style>
</head>

<body>

<!-- ğŸµ åœ£è¯éŸ³ä¹ï¼ˆå¾®ä¿¡å¯æ’­ï¼‰ -->
<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/12/23/audio_0f5b8b6d63.mp3" type="audio/mpeg">
</audio>

<div id="text">
    <p>ğŸ„ åœ£è¯å¿«ä¹ ğŸ„</p>
    <p style="font-size:18px;">é›’é‘«å°±æ˜¯æˆ‘çš„ç¤¼ç‰©</p>
    <p style="font-family:cursive;font-size:22px;">Merry Christmas 2025</p>
</div>

<canvas id="c"></canvas>
<div class="tip">è½»ç‚¹å±å¹•ï¼ŒéŸ³ä¹å“èµ· â¤ï¸</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

const cx = canvas.width / 2;
const baseY = canvas.height * 0.78;
let t = 0;

// ğŸŒ² èºæ—‹åœ£è¯æ ‘ï¼ˆæ ¸å¿ƒï¼‰
function drawTree(){
    for(let i=0;i<420;i++){
        let p = i / 420;
        let angle = p * 18 * Math.PI + t;
        let radius = (1-p) * 160;
        let x = cx + Math.cos(angle) * radius;
        let y = baseY - p * 520;

        ctx.beginPath();
        ctx.fillStyle = `rgba(170,220,255,${1-p})`;
        ctx.arc(x, y, 1.6, 0, Math.PI*2);
        ctx.fill();

        // å½©ç¯ç‚¹ç¼€
        if(i % 14 === 0){
            ctx.beginPath();
            ctx.fillStyle = `hsl(${i*6},100%,70%)`;
            ctx.arc(x, y, 2.4, 0, Math.PI*2);
            ctx.fill();
        }
    }
}

// â­ æ˜Ÿæ˜Ÿ
function drawStar(){
    ctx.beginPath();
    ctx.fillStyle="#ffd700";
    ctx.shadowBlur=20;
    ctx.shadowColor="#ffd700";
    ctx.arc(cx, baseY-560, 7, 0, Math.PI*2);
    ctx.fill();
    ctx.shadowBlur=0;
}

// â„ é›ªèŠ±
let snow=[];
for(let i=0;i<120;i++){
    snow.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        r:Math.random()*2+0.5,
        s:Math.random()*1.2+0.3
    });
}

function drawSnow(){
    ctx.fillStyle="rgba(255,255,255,.8)";
    snow.forEach(f=>{
        ctx.beginPath();
        ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
        ctx.fill();
        f.y+=f.s;
        if(f.y>canvas.height){
            f.y=0;
            f.x=Math.random()*canvas.width;
        }
    });
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawSnow();
    drawTree();
    drawStar();
    t += 0.0025;
    requestAnimationFrame(animate);
}
animate();

// ğŸµ å¾®ä¿¡ç‚¹ä¸€ä¸‹è§£é”éŸ³ä¹
document.addEventListener("click",()=>{
    document.getElementById("bgm").play();
},{once:true});
</script>

</body>
</html>
